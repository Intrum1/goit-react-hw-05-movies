{"version":3,"file":"static/js/2.f2f81a91.chunk.js","mappings":"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","sources":["webpack://intrum1.github.io/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","components/service/servise.js","webpack://intrum1.github.io/./src/components/SeachForm/SeachForm.module.css?f9ff","components/SeachForm/SeachForm.jsx","pages/Movies/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movies_list\":\"MoviesList_movies_list__EAcLe\",\"movies_list_container\":\"MoviesList_movies_list_container__Kvg3q\",\"trending_movie_title\":\"MoviesList_trending_movie_title__XoeRL\"};","import React from 'react';\nimport css from './MoviesList.module.css';\nimport { Link, useLocation } from 'react-router-dom';\n\nexport const MoviesList = ({ items = [] }) => {\n  const defaultImage =\n    'https://via.placeholder.com/250x375.png?text=Image+Not+Found';\n  const location = useLocation();\n\n  return (\n    <ul className={css.movies_list}>\n      {items.map(({ poster_path, name, title, id }) => (\n        <li key={id}>\n          <Link to={`/movies/${id}`} state={{ from: location }}>\n            {\n              <div className={css.movies_list_container}>\n                <img\n                  src={\n                    poster_path\n                      ? `https://image.tmdb.org/t/p/w500/${poster_path}`\n                      : defaultImage\n                  }\n                  alt={name || title}\n                  width={250}\n                  height={375}\n                />\n                <p className={css.trending_movie_title}>{name || title}</p>\n              </div>\n            }\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n\nexport default MoviesList;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'b62621a55fc4b114d29794b8b2ba9e8c';\n\nexport const fetchTrendingList = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  const { results } = response.data;\n\n  return results;\n};\n\nexport const fetchMoviesBySearch = async query => {\n  const response = await axios.get(\n    `/search/movie?query=${query}&api_key=${API_KEY}`\n  );\n  const { results } = response.data;\n  return results;\n};\n\nexport const fetchMovieById = async movieId => {\n  const response = await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}/credits?api_key=${API_KEY}`\n  );\n  const { cast } = response.data;\n  return cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(\n    `/movie/${movieId}/reviews?api_key=${API_KEY}`\n  );\n  const { results } = response.data;\n  return results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button_search\":\"SeachForm_button_search__CTZKr\",\"input\":\"SeachForm_input__sJIGH\"};","import { useState } from 'react';\nimport css from './SeachForm.module.css';\n\nconst SearchForm = ({ onSubmit }) => {\n  const [query, setQuery] = useState('');\n\n  const handleChange = evt => {\n    if (!evt.target.value) {\n    }\n    setQuery(evt.target.value.toLowerCase());\n  };\n\n  const handleSubmitForm = evt => {\n    evt.preventDefault();\n    onSubmit(query);\n  };\n\n  return (\n    <form className={css.form} onSubmit={handleSubmitForm}>\n      <input\n        className={css.input}\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search movies\"\n        onChange={handleChange}\n        value={query}\n      />\n      <button type=\"submit\" className={css.button_search}>\n        <span className=\"button-label\">Search</span>\n      </button>\n    </form>\n  );\n};\n\nexport default SearchForm;\n","import { useEffect, useState } from 'react';\nimport SearchForm from 'components/SeachForm/SeachForm';\nimport { fetchMoviesBySearch } from '../../components/service/servise';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport { useSearchParams } from 'react-router-dom';\nimport { Loader } from 'components/Loader/Loader';\n\nconst Movies = () => {\n  const [loading, setLoading] = useState(false);\n  const [movieItems, setMovieItems] = useState([]);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleSearchFormSubmit = query => {\n    if (!query) {\n      return;\n    }\n    // setNameMovie(query);\n    setSearchParams({ search: query });\n  };\n\n  useEffect(() => {\n    const value = searchParams.get('search');\n    if (!value) return;\n\n    async function getSearchMovies() {\n      try {\n        setLoading(true);\n        const searchMovies = await fetchMoviesBySearch(value);\n        setMovieItems(searchMovies);\n      } catch (error) {\n        window.alert(\n          'Oops! Something went wrong! Please try reloading this page!'\n        );\n      } finally {\n        setLoading(false);\n      }\n    }\n    getSearchMovies();\n  }, [searchParams]);\n\n  return (\n    <>\n      {loading && <Loader />}\n\n      <SearchForm onSubmit={handleSearchFormSubmit} />\n\n      {searchParams && <MoviesList items={movieItems} />}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["MoviesList","_ref","items","location","useLocation","_jsx","className","css","children","map","_ref2","poster_path","name","title","id","Link","to","concat","state","from","_jsxs","src","alt","width","height","axios","API_KEY","fetchTrendingList","async","response","results","data","fetchMoviesBySearch","query","fetchMovieById","movieId","fetchMovieCast","cast","fetchMovieReviews","onSubmit","setQuery","useState","evt","preventDefault","type","autoComplete","autoFocus","placeholder","onChange","target","value","toLowerCase","Movies","loading","setLoading","movieItems","setMovieItems","searchParams","setSearchParams","useSearchParams","useEffect","get","searchMovies","error","window","alert","getSearchMovies","_Fragment","Loader","SearchForm","search"],"sourceRoot":""}